<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Baniya Buddhi</title>

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700;800&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">

<link rel="stylesheet" href="style.css">
</head>

<body>

<!-- =========================
     TOP CURVED BUNTING
========================= -->
<div class="bunting-wrapper">

    <svg class="rope" viewBox="0 0 1000 200" preserveAspectRatio="none">
        <path d="M0,15 Q500,155 1000,15" />
        
    </svg>

    <div class="flags">
        <div class="flag"></div>
 

</div>

<!-- Main Content -->
<div class="container">

    <div class="top-row">
        <img src="baniya_logo.png" alt="Baniya Buddhi Logo" class="baniya-logo">
        <img src="startup_club_logo.png" alt="Startup Club Logo" class="startup-logo">
    </div>

    <div class="presents">presents</div>

    <div class="title">BANIYA BUDDHI<sup>â„¢</sup></div>

    <div class="subtitle">The wisdom of making profits</div>

</div>

<script>
    function createFlags(count) {
    const container = document.querySelector(".flags");
    container.innerHTML = "";

    for (let i = 0; i < count; i++) {
        const flag = document.createElement("div");
        flag.classList.add("flag");
        container.appendChild(flag);
    }
}

function positionFlags() {
    const svg = document.querySelector(".rope");
    const path = svg.querySelector("path");
    const flags = document.querySelectorAll(".flag");

    const pathLength = path.getTotalLength();
    const flagCount = flags.length;

    const svgRect = svg.getBoundingClientRect();
    const scaleX = svgRect.width / 1000;
    const scaleY = svgRect.height / 200;
    
    // Adjust offset based on screen size
    const width = window.innerWidth;
    let offsetX = 24;
    let offsetY = 15;
    
    if (width <= 480) {
        offsetX = 14;
        offsetY = 12;
    } else if (width <= 600) {
        offsetX = 16;
        offsetY = 12;
    } else if (width <= 768) {
        offsetX = 19;
        offsetY = 13;
    } else if (width <= 992) {
        offsetX = 21;
        offsetY = 14;
    }

    // padding to avoid edge clustering
    const startPadding = 0.05; // 5% from start
    const endPadding = 0.05;   // 5% from end
    const usableLength = pathLength * (1 - startPadding - endPadding);

    flags.forEach((flag, index) => {
        const t = index / (flagCount - 1);
        const distance = pathLength * startPadding + (usableLength * t);
        const point = path.getPointAtLength(distance);

        flag.style.left = `${(point.x * scaleX) - offsetX}px`;
        flag.style.top = `${(point.y * scaleY) - offsetY}px`;

        const baseTilt = index % 2 === 0 ? -6 : 6;
        flag.style.setProperty('--base-tilt', baseTilt + 'deg');
        flag.style.animationDelay = `${index * 0.15}s`;
    });
}
function getFlagCount() {
    const width = window.innerWidth;

    if (width > 1400) return 20;
    if (width > 1200) return 17;
    if (width > 992) return 14;
    if (width > 768) return 11;
    if (width > 600) return 12;
    if (width > 480) return 10;
    return 8; // small mobile
}

function initFlags() {
    createFlags(getFlagCount());
    positionFlags();
}

window.addEventListener("load", initFlags);

window.addEventListener("resize", () => {
    clearTimeout(window.resizeTimer);
    window.resizeTimer = setTimeout(initFlags, 100);
});

</script>

</body>
</html>
